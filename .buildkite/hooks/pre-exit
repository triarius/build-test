#!/usr/bin/env bash

set -Eeuo pipefail

trap "echo pre-exit terming..." SIGTERM

echo "in pre-exit..."
echo "$PATH"

echo pid: $$
ps -eo pid,ppid,pgid,args | grep $$

echo parent pid: $PPID
ps -eo pid,ppid,pgid,args | grep $PPID

echo printing process tree of grandparent
pstree -hp "$(ps -o ppid= -p $PPID)"
